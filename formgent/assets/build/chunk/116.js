"use strict";(globalThis.webpackChunkformgent=globalThis.webpackChunkformgent||[]).push([[116],{19259(e,t,i){i.d(t,{A:()=>n}),i(51609);const n="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNC42NDQiIGhlaWdodD0iMjUuNTI4IiB2aWV3Qm94PSIwIDAgMzQuNjQ0IDI1LjUyOCI+CiAgPHBhdGggaWQ9IlBhdGhfNiIgZGF0YS1uYW1lPSJQYXRoIDYiIGQ9Ik0xNjEuNTc4LDEzNy4wN2EzLjY0NiwzLjY0NiwwLDAsMC01LjE1NywwbC0xNS42NTYsMTUuNjU0LTYuNTM5LTYuNTM3YTMuNjQ2LDMuNjQ2LDAsMSwwLTUuMTU3LDUuMTU3bDkuMTE3LDkuMTE3YTMuNjQ1LDMuNjQ1LDAsMCwwLDUuMTU3LDBsMTguMjM0LTE4LjIzNEEzLjY0NiwzLjY0NiwwLDAsMCwxNjEuNTc4LDEzNy4wN1oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMjguMDAyIC0xMzYuMDAyKSIgZmlsbD0iI2ZmZiIvPgo8L3N2Zz4K"},29119(e,t,i){i.d(t,{A:()=>l});var n=i(56427),s=i(14356),a=i(13560),o=i(27723),r=i(10790);function l(e){const{children:t,title:i,className:l,AlertContent:c,onCancel:M,onFooterCancel:g,onSubmit:d,hasCancelButton:m,hasSubmitButton:u,isDisableAction:j,submitText:I,cancelText:N,cancelBtnType:D,submitBtnType:x="danger",isDismissible:A}=e;return(0,r.jsx)(n.Modal,{title:i,overlayClassName:`formgent-modal formgent-modal-default ${l}`,onRequestClose:M,isDismissible:A,children:(0,r.jsxs)(a.jN,{className:`${l}__modal`,children:[t,!j&&(0,r.jsxs)("div",{className:`formgent-modal-action ${l}-action`,children:[m&&(0,r.jsx)(s.AntButton,{ghost:!0,className:"formgent-modal-cancel-btn",onClick:e=>{e.preventDefault(),g?g():M()},children:N||(0,o.__)("Cancel","formgent")}),u&&(0,r.jsx)(s.AntButton,{type:"primary",onClick:e=>{e.preventDefault(),d()},danger:!0,children:I})]})]})})}},32542(e,t,i){i.d(t,{A:()=>a});var n=i(1455),s=i.n(n);const a=async(e,t={})=>{try{return await s()({path:"formgent/"+e,method:"DELETE",body:JSON.stringify(t)})}catch(e){throw console.error("Error making DELETE request:",e),e}}},33359(e,t,i){i.d(t,{A:()=>a});var n=i(1455),s=i.n(n);async function a(e,t,i){try{return await s()({path:"formgent/"+e,method:"PATCH",data:t,...i})}catch(e){throw console.error("Error posting data:",e),e}}},79116(e,t,i){i.r(t),i.d(t,{default:()=>v});var n=i(47143),s=i(86087),a=i(52619),o=i(27723),r=i(14356),l=i(50771),c=i(37628),M=i(29491),g=i(93832),d=i(56427),m=i(78739),u=i(84069),j=i(3834),I=i(10790);function N(){const[e,t]=(0,s.useState)(!1),[i,n]=(0,s.useState)({}),[l,c]=(0,s.useState)(""),N=(0,M.useCopyToClipboard)(l,()=>{(0,a.doAction)("formgent-toast",{message:(0,o.__)("Copied embed code.","formgent"),type:"success"}),t(!1),c("")}),D=(0,s.useCallback)((e,i)=>{t(e),n(i)},[]);return(0,s.useEffect)(()=>((0,a.addAction)("formgent_form_embed_modal_status","formgent",D),()=>(0,a.removeAction)("formgent_form_embed_modal_status","formgent")),[D]),(0,I.jsx)(I.Fragment,{children:e&&(0,I.jsxs)(d.Modal,{title:(0,o.__)("Get Embed Code","formgent"),onRequestClose:()=>t(!1),size:"medium",children:[(0,I.jsx)("div",{className:"formgent-code-wrapper",children:`<iframe src="${(0,g.addQueryArgs)(i.preview_url,{embed:1})}" width="100%" height="100%" frameborder="0"></iframe>`}),(0,I.jsx)("div",{className:"formgent-modal-footer-right",children:(0,I.jsx)("span",{id:"formgent-formgent-handle-copy",ref:N,children:(0,I.jsxs)(r.AntButton,{type:"primary",className:"formgent-page-header-btn",onClick:()=>{c(document.querySelector(".formgent-code-wrapper").innerText),setTimeout(()=>{document.getElementById("formgent-formgent-handle-copy").click()},500)},children:[l?(0,I.jsx)(m.A,{src:u.A,className:"formgent-loader",width:"14",height:"14"}):(0,I.jsx)(m.A,{src:j.A,width:"14",height:"14"}),l?(0,o.__)("Copying...","formgent"):(0,o.__)("Copy Code","formgent")]})})})]})})}var D=i(33359);function x(e){const{form:t,isStatusUpdating:i,singleStatusUpdated:o,onStatusChange:l}=e,{id:c,status:M}=t,[g,d]=(0,s.useState)(M||"draft"),{updateStatusRequest:m,updateStatusSuccess:u,updateStatusError:j}=(0,n.useDispatch)("formgent");return(0,s.useEffect)(()=>{o||d(M||"draft")},[M,o]),(0,I.jsxs)("div",{className:"formgent-toggle",children:[(0,I.jsx)(r.AntSwitch,{checked:"publish"===g,onChange:e=>{!async function(e){const i=e?"publish":"draft";d(i),l&&l(c,i),m();try{const e=await(0,D.A)(`admin/forms/${c}/status`,{status:String(i)});(0,a.doAction)("formgent-toast",{message:e.message}),u({...t,status:i})}catch(e){d(M||"draft"),l&&l(c,M||"draft"),j(e)}}(e)},loading:i}),(0,I.jsx)("span",{children:"publish"===g?"Active":"Inactive"})]})}var A=i(19259),f=i(13526);function z({record:e}){const[t,i]=(0,s.useState)(!1),[n,a]=(0,s.useState)(!1),[r,l]=(0,s.useState)(null),[c,g]=(0,s.useState)(null),[N,D]=(0,s.useState)(null),[x,z]=(0,s.useState)(null),h=(0,M.useCopyToClipboard)(`[formgent id="${e?.id}"]`,()=>{i(!0),x&&clearTimeout(x);const e=setTimeout(()=>{i(!1)},3e3);z(e)});return document.addEventListener("scroll",()=>{const e=document.querySelector(`input[data-shortcode_id="${r}"]`);g(e&&e.getBoundingClientRect())}),(0,I.jsx)(d.Tooltip,{text:t&&r===e?.id?"":(0,o.__)("Click to copy","formgent"),delay:"0",placement:"bottom",hideOnClick:!0,children:(0,I.jsxs)("label",{className:(0,f.A)({"formgent-form-shortcode__copying":n&&r===e?.id,"formgent-form-shortcode__copied":!n&&t&&r===e?.id}),children:[n&&r===e?.id?(0,I.jsx)(m.A,{src:u.A}):!n&&t&&r===e?.id?(0,I.jsx)(m.A,{src:A.A}):(0,I.jsx)(m.A,{src:j.A}),(0,I.jsx)("input",{type:"text",readOnly:!0,value:n&r===e?.id?"":!n&&t&&r===e?.id?(0,o.__)("Copied!","formgent"):`[formgent id="${e?.id}"]`,"data-shortcode_id":e?.id,ref:h,onClick:()=>{l(e?.id),N&&clearTimeout(N),a(!0);const t=setTimeout(()=>{a(!1)},500);D(t)}})]})})}var h=i(37625),y=i(73100),T=i(30929),S=i(13560);function p(e){const{tokens:t={},componentTokens:i={},children:n,...s}=e;return(0,I.jsx)(S.$7,{children:(0,I.jsx)(y.Ay,{theme:{cssVar:!0,token:{colorText:"#3c3c3c",paddingXXS:12,borderRadiusLG:10,borderRadiusSM:8,boxShadowSecondary:"0 6px 40px rgba(144, 144, 144, 0.25)",controlItemBgHover:"#f5f5f5",controlPaddingHorizontal:15,lineHeight:1.18,fontFamily:"Inter",...t},components:{Dropdown:{paddingBlock:13},...i}},children:(0,I.jsx)(T.A,{...s,children:n})})})}var C=i(29119),E=i(32542);i(51609);var L=i(91675),w=i(27258);function b(e){const{error:t,formTitle:i}=e;return(0,I.jsxs)(h.dt,{children:[500===t?.data?.status&&(0,I.jsx)("span",{className:" formgent-notice formgent-notice-danger",children:(0,o.__)("Internal server error","formgent")}),(0,I.jsxs)("div",{className:"formgent-alert-content",children:[(0,I.jsxs)("div",{children:[(0,o.__)("You are about to delete","formgent")," ",Array.isArray(i)?(0,I.jsx)("ul",{className:"formgent-form-delete-list",children:i.map((e,t)=>(0,I.jsx)("li",{children:e},t))}):(0,I.jsx)("strong",{children:i})]}),(0,I.jsx)("p",{children:Array.isArray(i)&&i.length>1?(0,o.__)("All responses these forms has collected, including associated messages, will be deleted forever.","formgent"):(0,o.__)("All responses this form has collected, including associated messages, will be deleted forever.","formgent")}),(0,I.jsx)("h4",{children:(0,o.__)("Are you sure you want to proceed with the deletion?","formgent")})]})]})}function k(e){const[t,i]=(0,s.useState)(!1),{form:r,editableForm:c,setEditableForm:M,isFormDeleting:g,isFormDuplicating:d,pagination:N,forms:D}=e,{deleteFormRequest:x,deleteFormSuccess:A,deleteFormError:f,duplicateFormRequest:z,duplicateFormSuccess:h,duplicateFormError:y}=(0,n.useDispatch)("formgent"),T=(0,a.applyFilters)("formgent_form_table_action",[{key:"1",label:(0,I.jsxs)("a",{onClick:function(e){e.preventDefault();const t={id:r.id,title:r.title};M(t)},className:"dropdown-header-content",children:[(0,I.jsx)(m.A,{src:"data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iZm9ybWdlbnQtc3ZnLWZpbGwtb25seSIgd2lkdGg9IjE4IiBoZWlnaHQ9IjE4IiB2aWV3Qm94PSIwIDAgMTggMTgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxnIGlkPSJlZGl0Ij4KPHBhdGggaWQ9Ikljb24gKFN0cm9rZSkiIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTEuODQ0OCAyLjA5NDY2QzEyLjc1OSAxLjE4MDQ0IDE0LjI0MTIgMS4xODA0NCAxNS4xNTU0IDIuMDk0NjZDMTYuMDY5NiAzLjAwODg3IDE2LjA2OTYgNC40OTExIDE1LjE1NTQgNS40MDUzMkw1LjczMzM3IDE0LjgyNzRDNS43MTg1MiAxNC44NDIyIDUuNzAzODEgMTQuODU3IDUuNjg5MjEgMTQuODcxNkM1LjQ3MzYzIDE1LjA4NzYgNS4yODM1NSAxNS4yNzggNS4wNTQ0IDE1LjQxODRDNC44NTMwOSAxNS41NDE4IDQuNjMzNjEgMTUuNjMyNyA0LjQwNDAzIDE1LjY4NzhDNC4xNDI3IDE1Ljc1MDYgMy44NzM2NCAxNS43NTAzIDMuNTY4NDcgMTUuNzVDMy41NDc4MSAxNS43NSAzLjUyNjk4IDE1Ljc1IDMuNTA1OTggMTUuNzVIMi4yNTAwOEMxLjgzNTg2IDE1Ljc1IDEuNTAwMDggMTUuNDE0MiAxLjUwMDA4IDE1VjEzLjc0NDFDMS41MDAwOCAxMy43MjMxIDEuNTAwMDYgMTMuNzAyMyAxLjUwMDA0IDEzLjY4MTZDMS40OTk3NSAxMy4zNzY1IDEuNDk5NSAxMy4xMDc0IDEuNTYyMjQgMTIuODQ2MUMxLjYxNzM2IDEyLjYxNjUgMS43MDgyNyAxMi4zOTcgMS44MzE2NCAxMi4xOTU3QzEuOTcyMDYgMTEuOTY2NSAyLjE2MjQ5IDExLjc3NjUgMi4zNzg0OCAxMS41NjA5QzIuMzkzMSAxMS41NDYzIDIuNDA3ODQgMTEuNTMxNiAyLjQyMjY5IDExLjUxNjdMMTEuODQ0OCAyLjA5NDY2Wk0xNC4wOTQ4IDMuMTU1MzJDMTMuNzY2MyAyLjgyNjg5IDEzLjIzMzkgMi44MjY4OSAxMi45MDU0IDMuMTU1MzJMMy40ODMzNSAxMi41Nzc0QzMuMTk4NjggMTIuODYyIDMuMTQ2MTkgMTIuOTIxNCAzLjExMDYgMTIuOTc5NEMzLjA2OTQ4IDEzLjA0NjUgMy4wMzkxNyAxMy4xMTk3IDMuMDIwOCAxMy4xOTYyQzMuMDA0OSAxMy4yNjI1IDMuMDAwMDggMTMuMzQxNSAzLjAwMDA4IDEzLjc0NDFWMTQuMjVIMy41MDU5OEMzLjkwODU3IDE0LjI1IDMuOTg3NjIgMTQuMjQ1MiA0LjA1Mzg2IDE0LjIyOTNDNC4xMzAzOSAxNC4yMTA5IDQuMjAzNTQgMTQuMTgwNiA0LjI3MDY1IDE0LjEzOTVDNC4zMjg3MyAxNC4xMDM5IDQuMzg4MDQgMTQuMDUxNCA0LjY3MjcxIDEzLjc2NjdMMTQuMDk0OCA0LjM0NDY2QzE0LjQyMzIgNC4wMTYyMyAxNC40MjMyIDMuNDgzNzQgMTQuMDk0OCAzLjE1NTMyWk04LjI1MDA2IDE1QzguMjUwMDYgMTQuNTg1OCA4LjU4NTg0IDE0LjI1IDkuMDAwMDYgMTQuMjVIMTUuNzUwMUMxNi4xNjQzIDE0LjI1IDE2LjUwMDEgMTQuNTg1OCAxNi41MDAxIDE1QzE2LjUwMDEgMTUuNDE0MiAxNi4xNjQzIDE1Ljc1IDE1Ljc1MDEgMTUuNzVIOS4wMDAwNkM4LjU4NTg0IDE1Ljc1IDguMjUwMDYgMTUuNDE0MiA4LjI1MDA2IDE1WiIgZmlsbD0iIzc0N0M4OSIvPgo8L2c+Cjwvc3ZnPgo=",width:"16",height:"16"})," ",(0,o.__)("Rename","formgent")]})},{key:"2",label:(0,I.jsxs)("a",{onClick:async function(){if(!d){z();try{const e=await(0,l.A)(`admin/forms/${r.id}/duplicate`);h(r.id),(0,a.doAction)("formgent-toast",{message:e.message}),(0,n.resolveSelect)("formgent").getForms(N.current_page,N.per_page,Date.now())}catch(e){y(e),console.log(e)}}},className:"dropdown-header-content formgent-table-action-duplicate",children:[d?(0,I.jsx)(m.A,{src:u.A,width:"16",height:"16"}):(0,I.jsx)(m.A,{src:j.A,width:"16",height:"16"})," ",(0,o.__)("Duplicate","formgent")]})},{key:"3",label:(0,I.jsxs)("a",{onClick:()=>{(0,a.doAction)("formgent_form_embed_modal_status",!0,r)},className:"dropdown-header-content formgent-table-action-embed",children:[d?(0,I.jsx)(m.A,{src:u.A,width:"16",height:"16"}):(0,I.jsx)(m.A,{style:{transform:"scale(1.2)"},src:w.A,width:"16",height:"16"})," ",(0,o.__)("Get Embed Code","formgent")]})},{type:"divider"},{key:"4",label:(0,I.jsxs)("a",{onClick:function(){i(!0)},className:"dropdown-header-content formgent-table-action-delete",children:[(0,I.jsx)(m.A,{src:L.A,width:"16",height:"16"})," ",(0,o.__)("Delete","formgent")]})}]);return(0,I.jsxs)("div",{className:"formgent-table-action","data-tooltip":(0,o.__)("Rename, Duplicate & Delete","formgent"),children:[(0,I.jsx)(p,{menu:{items:T},trigger:["click"],placement:"bottomRight",overlayStyle:{minWidth:"240px"},overlayClassName:"formgent-table-action__dropdown",children:(0,I.jsx)("a",{onClick:e=>e.preventDefault(),children:(0,I.jsx)(m.A,{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdmlld0JveD0iMCAwIDIwIDIwIiBmaWxsPSJub25lIj4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTIuNSAxMEMyLjUgOS4wNzk1MiAzLjI0NjE5IDguMzMzMzMgNC4xNjY2NyA4LjMzMzMzQzUuMDg3MTQgOC4zMzMzMyA1LjgzMzMzIDkuMDc5NTIgNS44MzMzMyAxMEM1LjgzMzMzIDEwLjkyMDUgNS4wODcxNCAxMS42NjY3IDQuMTY2NjcgMTEuNjY2N0MzLjI0NjE5IDExLjY2NjcgMi41IDEwLjkyMDUgMi41IDEwWk04LjMzMzMzIDEwQzguMzMzMzMgOS4wNzk1MiA5LjA3OTUzIDguMzMzMzMgMTAgOC4zMzMzM0MxMC45MjA1IDguMzMzMzMgMTEuNjY2NyA5LjA3OTUyIDExLjY2NjcgMTBDMTEuNjY2NyAxMC45MjA1IDEwLjkyMDUgMTEuNjY2NyAxMCAxMS42NjY3QzkuMDc5NTMgMTEuNjY2NyA4LjMzMzMzIDEwLjkyMDUgOC4zMzMzMyAxMFpNMTQuMTY2NyAxMEMxNC4xNjY3IDkuMDc5NTIgMTQuOTEyOSA4LjMzMzMzIDE1LjgzMzMgOC4zMzMzM0MxNi43NTM4IDguMzMzMzMgMTcuNSA5LjA3OTUyIDE3LjUgMTBDMTcuNSAxMC45MjA1IDE2Ljc1MzggMTEuNjY2NyAxNS44MzMzIDExLjY2NjdDMTQuOTEyOSAxMS42NjY3IDE0LjE2NjcgMTAuOTIwNSAxNC4xNjY3IDEwWiIgZmlsbD0iIzc0N0M4OSIvPgo8L3N2Zz4=",width:"20",height:"20"})})}),t&&(0,I.jsx)(C.A,{title:(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("span",{className:"formgent-popup-title-icon",children:(0,I.jsx)(m.A,{src:L.A})}),(0,o.__)("Delete Form","formgent")]}),onCancel:function(){i(!1)},onSubmit:async function(){if(!g){x();try{await(0,E.A)(`admin/forms/${r.id}`),A(r.id),i(!1),(0,n.resolveSelect)("formgent").getForms(D.length<=1?N.current_page-1:N.current_page,N.per_page,Date.now())}catch(e){f(e)}}},hasCancelButton:!0,hasSubmitButton:!0,isActiveSubmit:!0,submitText:g?(0,o.__)("Deleting","formgent"):(0,o.__)("Delete","formgent"),className:"formgent-form-delete-alert",children:(0,I.jsx)(b,{formTitle:r.title})})]})}var _=i(85748);function O(e){const{data:t,selectedRowKeys:i,setSelectedRowKeys:a,isFormDeleting:l,selectedForms:c,setSelectedForms:M,handleBulkStatusUpdate:d}=e,[u,j]=(0,s.useState)(!1),[N,D]=(0,s.useState)(!1),x=(0,s.useRef)(null),{bulkDeleteFormRequest:A,bulkDeleteFormSuccess:f,bulkDeleteFormError:z}=(0,n.useDispatch)("formgent"),y=(0,n.useSelect)(e=>{var t;return null!==(t=e("formgent")?.getForms()?.FormReducer?.pagination?.per_page)&&void 0!==t?t:10},[]);return(0,s.useEffect)(()=>{var e,t,i;e=u,t=j,i=x,document.addEventListener("mousedown",n=>{e&&i.current&&!i.current.contains(n.target)&&t(!1)})},[u]),(0,I.jsxs)(h.sc,{className:"formgent-bulk-selection",children:[(0,I.jsx)("div",{className:"formgent-bulk-selection__checkbox",children:(0,I.jsx)(r.AntCheckbox,{onChange:function(e){e.target.checked?(a(t.map(e=>e.id)),M(t.map(e=>e.title))):(a([]),M([]))},checked:i.length===t.length})}),(0,I.jsxs)("div",{className:"formgent-form-bulk-action__more",children:[(0,I.jsxs)(r.AntButton,{size:"small",className:"formgent-btn-bulk-status",onClick:function(){j(!u)},children:[(0,I.jsx)(m.A,{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2IiBmaWxsPSJub25lIj4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTAuNjY2NjI2IDhDMC42NjY2MjYgNS40MjI2NyAyLjc1NTk2IDMuMzMzMzMgNS4zMzMyOSAzLjMzMzMzSDEwLjY2NjZDMTMuMjQ0IDMuMzMzMzMgMTUuMzMzMyA1LjQyMjY3IDE1LjMzMzMgOEMxNS4zMzMzIDEwLjU3NzMgMTMuMjQ0IDEyLjY2NjcgMTAuNjY2NiAxMi42NjY3SDUuMzMzMjlDMi43NTU5NiAxMi42NjY3IDAuNjY2NjI2IDEwLjU3NzMgMC42NjY2MjYgOFpNNS4zMzMyOSA0LjY2NjY2QzMuNDkyMzQgNC42NjY2NiAxLjk5OTk2IDYuMTU5MDUgMS45OTk5NiA4QzEuOTk5OTYgOS44NDA5NCAzLjQ5MjM0IDExLjMzMzMgNS4zMzMyOSAxMS4zMzMzSDEwLjY2NjZDMTIuNTA3NiAxMS4zMzMzIDE0IDkuODQwOTQgMTQgOEMxNCA2LjE1OTA1IDEyLjUwNzYgNC42NjY2NiAxMC42NjY2IDQuNjY2NjZINS4zMzMyOVpNNS4zMzMyOSA2Ljk5OTk5QzQuNzgxMDEgNi45OTk5OSA0LjMzMzI5IDcuNDQ3NzEgNC4zMzMyOSA4QzQuMzMzMjkgOC41NTIyOCA0Ljc4MTAxIDkgNS4zMzMyOSA5QzUuODg1NTggOSA2LjMzMzI5IDguNTUyMjggNi4zMzMyOSA4QzYuMzMzMjkgNy40NDc3MSA1Ljg4NTU4IDYuOTk5OTkgNS4zMzMyOSA2Ljk5OTk5Wk0yLjk5OTk2IDhDMi45OTk5NiA2LjcxMTMzIDQuMDQ0NjMgNS42NjY2NiA1LjMzMzI5IDUuNjY2NjZDNi42MjE5NiA1LjY2NjY2IDcuNjY2NjMgNi43MTEzMyA3LjY2NjYzIDhDNy42NjY2MyA5LjI4ODY2IDYuNjIxOTYgMTAuMzMzMyA1LjMzMzI5IDEwLjMzMzNDNC4wNDQ2MyAxMC4zMzMzIDIuOTk5OTYgOS4yODg2NiAyLjk5OTk2IDhaIiBmaWxsPSIjNzQ3Qzg5Ii8+Cjwvc3ZnPg=="})," ",(0,o.__)("Status","formgent")]}),u&&(0,I.jsxs)("ul",{className:"formgent-form-bulk-action__dropdown",ref:x,children:[(0,I.jsx)("li",{children:(0,I.jsx)("a",{href:"",onClick:e=>{e.preventDefault(),d("publish")},children:(0,o.__)("Activate","formgent")})}),(0,I.jsx)("li",{children:(0,I.jsx)("a",{href:"",onClick:e=>{e.preventDefault(),d("draft")},children:(0,o.__)("Deactivate","formgent")})})]})]}),(0,I.jsxs)(r.AntButton,{size:"small",className:"formgent-btn-bulk-delete",onClick:function(){D(!N)},children:[(0,I.jsx)(m.A,{src:_.A}),(0,o.__)("Delete","formgent")]}),(0,I.jsxs)("span",{className:"formgent-bulk-selection__text",children:[(0,I.jsx)("strong",{children:i.length})," ",(0,o.__)("Forms Selected","formgent")]}),(0,I.jsx)("a",{className:"formgent-clear-bulk",onClick:function(){a([])},children:(0,o.__)("Clear Selection","formgent")}),N&&(0,I.jsx)(C.A,{title:(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("span",{className:"formgent-popup-title-icon",children:(0,I.jsx)(m.A,{src:L.A})}),(0,o.__)("Delete Form","formgent")]}),onCancel:function(){D(!1)},onSubmit:async function(){A();try{await(0,E.A)((0,g.addQueryArgs)("admin/forms",{ids:i})),f(i),a([]),(0,n.resolveSelect)("formgent").getForms(1,y,Date.now())}catch(e){z(e)}},hasCancelButton:!0,hasSubmitButton:!0,isActiveSubmit:!0,submitText:l?(0,o.__)("Deleting","formgent"):(0,o.__)("Delete","formgent"),className:"formgent-form-delete-alert",children:(0,I.jsx)(b,{formTitle:c})})]})}var Q=i(48677);function Y(e){const{form:t,form_edit_url:i,editableForm:l,setEditableForm:M}=e,{id:g,title:d,created_at:u,preview_url:j,status:N}=t,x=(0,s.useRef)(null),{updateTitleRequest:z,updateTitleSuccess:y,updateTitleError:T}=(0,n.useDispatch)("formgent"),{CommonReducer:S}=(0,n.useSelect)(e=>e("formgent").getCommonState(),[]),{isTitleUpdating:p}=!1,{Link:C}=S.routerComponents;async function E(){if(d!==l.title){if(!p){z();try{const e=await(0,D.A)(`admin/forms/${l.id}/title`,{title:l.title});(0,a.doAction)("formgent-toast",{message:e.message}),y(l)}catch(e){T(e)}M(null)}}else M(null)}return(0,s.useEffect)(()=>{x?.current?.focus({cursor:"end"})},[l]),(0,I.jsx)(h.Dg,{className:"formgent-titleBox",children:l&&l.id===g?(0,I.jsxs)("div",{className:"formgent-titleBox__editor",children:[(0,I.jsx)("div",{className:"formgent-titleBox__data",children:(0,I.jsx)(r.AntInput,{ref:x,tokens:{colorBorder:"#ededed"},value:l.title,onChange:function(e){M({...l,title:e.target.value})},onKeyUp:e=>{"Enter"===e.key&&E()}})}),(0,I.jsxs)("div",{className:"formgent-titleBox__actions",children:[(0,I.jsx)("span",{className:"formgent-titleBox-action-item formgent-titleBox__actions-cancel",onClick:function(){M(null)},children:(0,I.jsx)(m.A,{src:Q.A})}),(0,I.jsx)("span",{className:"formgent-titleBox-action-item formgent-titleBox__actions-yes",onClick:E,children:p?(0,I.jsx)("span",{className:"formgent-circle-loader"}):(0,I.jsx)(m.A,{src:A.A})})]})]}):(0,I.jsxs)("div",{className:"formgent-titlebox__content",children:[(0,I.jsx)("div",{className:"formgent-titleBox-icon",children:"general"===t.type?(0,I.jsx)(m.A,{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgdmlld0JveD0iMCAwIDQ4IDQ4IiBmaWxsPSJub25lIj4KICA8cmVjdCB4PSIwLjUiIHk9IjAuNSIgd2lkdGg9IjQ3IiBoZWlnaHQ9IjQ3IiByeD0iOS41IiBmaWxsPSJ3aGl0ZSIgc3Ryb2tlPSIjREFFRUZGIi8+CiAgPHJlY3QgeD0iMTIiIHk9IjEwIiB3aWR0aD0iMjQiIGhlaWdodD0iMjgiIHJ4PSI2IiBmaWxsPSIjNURCOEZEIi8+CiAgPHJlY3QgeD0iMTgiIHk9IjIzIiB3aWR0aD0iMTIiIGhlaWdodD0iMiIgcng9IjEiIGZpbGw9IndoaXRlIi8+CiAgPHJlY3QgeD0iMTgiIHk9IjE4IiB3aWR0aD0iMTIiIGhlaWdodD0iMiIgcng9IjEiIGZpbGw9IndoaXRlIi8+CiAgPHJlY3QgeD0iMTgiIHk9IjI4IiB3aWR0aD0iMTIiIGhlaWdodD0iMiIgcng9IjEiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPg=="}):(0,I.jsx)(m.A,{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgdmlld0JveD0iMCAwIDQ4IDQ4IiBmaWxsPSJub25lIj4KICA8cmVjdCB4PSIwLjUiIHk9IjAuNSIgd2lkdGg9IjQ3IiBoZWlnaHQ9IjQ3IiByeD0iOS41IiBmaWxsPSJ3aGl0ZSIgc3Ryb2tlPSIjREVFM0ZGIi8+CiAgPHJlY3QgeD0iMzAiIHk9IjE3IiB3aWR0aD0iMTIiIGhlaWdodD0iMTQiIHJ4PSI0IiBmaWxsPSIjQzRDQkZGIi8+CiAgPHJlY3QgeD0iNiIgeT0iMTciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxNCIgcng9IjQiIGZpbGw9IiNDNENCRkYiLz4KICA8cmVjdCB4PSIxMiIgeT0iMTIiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgcng9IjYiIGZpbGw9IiM3QTdBRkYiLz4KICA8cmVjdCB4PSIxOCIgeT0iMjEiIHdpZHRoPSIxMiIgaGVpZ2h0PSIyIiByeD0iMSIgZmlsbD0id2hpdGUiLz4KICA8cmVjdCB4PSIxOCIgeT0iMjUiIHdpZHRoPSIxMiIgaGVpZ2h0PSIyIiByeD0iMSIgZmlsbD0id2hpdGUiLz4KPC9zdmc+"})}),(0,I.jsxs)("div",{className:"formgent-titleBox-text",children:[(0,I.jsx)("a",{href:`${i}&post=${g}`,children:(0,I.jsx)("span",{className:"formgent-title",children:d})}),(0,I.jsxs)("ul",{className:"formgent-titleBox-meta",children:[(0,I.jsxs)("li",{className:"formgent-titleBox-meta__id",children:[(0,o.__)("ID","formgent")," #",g]}),(0,I.jsxs)("li",{className:"formgent-titleBox-meta__date",children:[(0,o.__)("Created:","formgent")," ",(0,c.Yq)("en-US",u,{year:"numeric",month:"long",day:"numeric"},!1)]})]}),(0,I.jsxs)("ul",{className:"formgent-form-action",children:[(0,I.jsx)("li",{className:"formgent-form-action__items",children:(0,I.jsx)("a",{href:`${i}&post=${g}`,className:"formgent-btn formgent-btn-xxs formgent-btn-light-gray",children:(0,o.__)("Edit","formgent")})}),(0,I.jsx)("li",{children:(0,I.jsx)(C,{to:`/forms/${g}/response`,className:"formgent-btn formgent-btn-xxs formgent-btn-light-gray",children:(0,o.__)("All Responses","formgent")})}),(0,I.jsx)("li",{children:(0,I.jsx)("a",{href:"draft"===N?"#":j,className:(0,f.A)("formgent-btn formgent-btn-xxs formgent-btn-light-gray",{"formgent-btn-disabled":"draft"===N}),target:"_blank",children:(0,o.__)("Preview","formgent")})})]})]})]})})}function v(e){var t,i,M;const[g,d]=(0,s.useState)([]),[m,u]=(0,s.useState)([]),[j,D]=(0,s.useState)(null),{updateCurrentPage:A,updatePerPage:f,bulkStatusUpdateRequest:y,bulkStatusUpdateSuccess:T,bulkStatusUpdateError:S}=(0,n.useDispatch)("formgent"),{forms:p,pagination:C,isLoading:E,form_edit_url:L,isFormDeleting:w,sortBy:b,dateType:_,isStatusUpdating:Q,singleStatusUpdated:v,isFormDuplicating:U}=e,Z=Number(null!==(t=C?.current_page)&&void 0!==t?t:1),B=Number(null!==(i=C?.per_page)&&void 0!==i?i:10),P=Number(null!==(M=C?.total_items)&&void 0!==M?M:0),[R,G]=(0,s.useState)(p),[H,W]=(0,s.useState)(p);function F(e,t){G(i=>i.map(i=>i.id===e?{...i,status:t}:i))}(0,s.useEffect)(()=>{G(p)},[p]);const{CommonReducer:J}=(0,n.useSelect)(e=>e("formgent").getCommonState(),[]),{Link:V}=J.routerComponents,K={selectedRowKeys:g,onChange:function(e){d(e);const t=R.filter(t=>e.includes(t.id)).map(e=>e.title);u(t)}};(0,s.useEffect)(()=>{let e=[...R];"date_created"===b?e.sort((e,t)=>new Date(t.created_at)-new Date(e.created_at)):"title"===b&&e.sort((e,t)=>e.title.localeCompare(t.title)),W(e)},[R,b]),(0,s.useEffect)(()=>{const e=R.filter(e=>"all"===_||e.type===_);W(e)},[R,_]);const $={year:"numeric",month:"long",day:"numeric"},X=(0,a.applyFilters)("formgent_form_table_columns",[{title:"Name",className:"formgent-form-checkbox",render:(e,t)=>(0,I.jsx)(Y,{form:t,form_edit_url:L,editableForm:j,setEditableForm:D}),width:330},{title:"Shortcode",className:"formgent-form-shortcode",render:(e,t)=>(0,I.jsx)(z,{record:t}),width:200},{title:"Responses",className:"formgent-head-response",render:(e,t)=>(0,I.jsx)("div",{className:"formgent-form-responses",children:(0,I.jsx)(V,{to:`forms/${t?.id}/response`,children:t?.total_unread_responses>0?t?.total_responses:"0"})})},{title:"Created By",className:"formgent-head-created-by",render:(e,t)=>(0,I.jsx)("div",{className:"formgent-form-username",children:t?.username})},{title:"Updated",className:"formgent-head-updated-at",render:(e,t)=>{const i="string"==typeof t?.updated_at?t?.updated_at:t?.created_at;return(0,I.jsx)("div",{className:"formgent-form-date",children:(0,c.Yq)("en-US",i,$)})}},{title:(0,o.__)("Status","formgent"),className:"formgent-head-status",render:(e,t)=>(0,I.jsx)("div",{className:"formgent-form-status",children:(0,I.jsx)(x,{form:t,setEditableForm:D,isStatusUpdating:Q,singleStatusUpdated:v,onStatusChange:F})})},{title:"More",className:"formgent-head-action",render:(e,t)=>(0,I.jsx)("div",{className:"formgent-form-action",children:(0,I.jsx)(k,{form:t,editableForm:j,setEditableForm:D,isFormDeleting:w,isFormDuplicating:U,pagination:C,forms:R})})}]),[q,ee]=(0,s.useState)(""),te=(e,t)=>`${t[0]} - ${t[1]} of ${e} forms`;(0,s.useEffect)(()=>{if(P<1)return void ee("");const e=(Z-1)*B+1,t=Math.min(Z*B,P),i=te(P,[e,t]);ee(i)},[Z,B,P]);const ie=(e,t)=>{const i=Number(null!=t?t:B),s=i!==B,a=s?1:e;s&&f(i),A(a);const o=[(a-1)*i+1,Math.min(a*i,P)],r=te(P,o);ee(r),(0,n.resolveSelect)("formgent").getForms(a,i,Date.now(),b,_)},ne=(0,s.useRef)(null);return(0,s.useEffect)(()=>{const e=ne.current.querySelector(".ant-table-content");e&&e.scrollTo({left:0,behavior:"smooth"})},[j]),(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(N,{}),(0,I.jsx)(h.UJ,{children:(0,I.jsxs)(r.AntSpin,{spinning:E,children:[0!==g.length&&(0,I.jsx)(O,{data:R,selectedRowKeys:g,setSelectedRowKeys:d,isFormDeleting:w,selectedForms:m,setSelectedForms:u,handleBulkStatusUpdate:async function(e){const t={ids:g,status:e};y(!0);try{await(0,l.A)("admin/forms/status",t),!function(e,t){G(i=>i.map(i=>e.includes(i.id)?{...i,status:t}:i))}(g,e),T({ids:g,payload:{status:e}}),d([])}catch(e){S(e)}}}),(0,I.jsx)("div",{ref:ne,className:"formgent-table-wrapper",children:(0,I.jsx)(r.AntTable,{tableClass:"formgent-forms-table",componentTokens:{Table:{headerColor:"#6e6e6e",headerBg:"#d5d5d5",headerSplitColor:"#d5d5d5",cellPaddingBlock:20}},showHeader:0===g.length,rowSelection:K,columns:X,dataSource:H,rowKey:e=>e?.id,pagination:{current:Z,pageSize:B,total:P,position:["none"]},onChange:function(e){A(e?.current)},scroll:{x:1300}})}),P>B&&(0,I.jsxs)("div",{className:"formgent-forms-pagination-wrapper",children:[(0,I.jsx)("span",{className:"formgent-forms-pagination-total-count",children:q}),(0,I.jsx)(r.AntPagination,{current:Z,pageSize:B,total:P,showSizeChanger:!0,pageSizeOptions:["10","20","50","100"],onChange:ie,onShowSizeChange:ie})]})]})})]})}},85748(e,t,i){i.d(t,{A:()=>n}),i(51609);const n="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiA8cGF0aCBkPSJNMTYgNlY1LjJDMTYgNC4wNzk5IDE2IDMuNTE5ODQgMTUuNzgyIDMuMDkyMDJDMTUuNTkwMyAyLjcxNTY5IDE1LjI4NDMgMi40MDk3MyAxNC45MDggMi4yMTc5OUMxNC40ODAyIDIgMTMuOTIwMSAyIDEyLjggMkgxMS4yQzEwLjA3OTkgMiA5LjUxOTg0IDIgOS4wOTIwMiAyLjIxNzk5QzguNzE1NjkgMi40MDk3MyA4LjQwOTczIDIuNzE1NjkgOC4yMTc5OSAzLjA5MjAyQzggMy41MTk4NCA4IDQuMDc5OSA4IDUuMlY2TTEwIDExLjVWMTYuNU0xNCAxMS41VjE2LjVNMyA2SDIxTTE5IDZWMTcuMkMxOSAxOC44ODAyIDE5IDE5LjcyMDIgMTguNjczIDIwLjM2MkMxOC4zODU0IDIwLjkyNjUgMTcuOTI2NSAyMS4zODU0IDE3LjM2MiAyMS42NzNDMTYuNzIwMiAyMiAxNS44ODAyIDIyIDE0LjIgMjJIOS44QzguMTE5ODQgMjIgNy4yNzk3NiAyMiA2LjYzODAzIDIxLjY3M0M2LjA3MzU0IDIxLjM4NTQgNS42MTQ2IDIwLjkyNjUgNS4zMjY5OCAyMC4zNjJDNSAxOS43MjAyIDUgMTguODgwMiA1IDE3LjJWNiIgc3Ryb2tlPSJjdXJyZW50Q29sb3IiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CiA8L3N2Zz4K"}}]);